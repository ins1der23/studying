# Инструкция Git

### Первые шаги в Git

- чтобы работать в ~гите~ Git  нужно его скачать и установить
  > https://gitforwindows.org/
  >
- работать с `Git` нужно в **терминале**

### Создание локального репозитория в vscode

* создать папку для репозитория в **корне на диске C**
  > не использовать для файлов и папок *русские буквы, спец.символы и пробелы*
  >
* добавить созданную папку в vscode `File->Add Folder to Workspace`
* открыть созданную папку в терминале vscode `Right Click -> Open in Integrated Terminal`
* инициализировать репозиторий с помощью `git init`
* создать файл **.gitignore** в корне репозитория для неотслеживаемых файлов
* задать имя пользователя  `git config global user.name` и почту `git config global user.email`

### Commits

* для фиксации изменений и возможности отката к прошлым версиям сущесвтуют коммиты
* для их создания нужно добавить файл в список отслеживаемых `git add имя_файла` или `git add .` для всех файлов в папке
* после чего можно фикисровать текущее состояние `git commit -m "комментарий к коммиту"`
* для возврата к исходному состоянию коммита (отмены незафиксированных изменений) `git revert`
* для редактирования коментария к коммиту `git commit --amend`
* для просмотра истории коммитов `git log` или более удобно `git log --oneline`
  > чтобы выйти нажать q
  >
* для перехода к указаному коммиту `git хеш_коммита`
* для возврата к главному коммиту `git checkout master`
* для возврата к предыдущей версии и **удаления без возможности восстановления** последующих коммитов `git reset хеш_коммита` к которому нужно возвратиться
* для возврата к предыдущей версии через отмену с сохранением отменяемых коммитов `git revert хеш_коммита`

### Branches

* для совместной работы над проектами создаются ветви `git branch имя_ветви`
* над одним и тем файлом можно работать в нескольких ветвях
* чтобы сменить ветвь `git checkout имя_ветви`
* для создания ветви из определеного коммита `git branch имя_ветви и хеш_коммита`
* когда ветвь, ответственная за какую-либо часть проекта готова, то можно делать ее слияние с master ветвью `git merge имя_ветви` при этом нужно находится в master
* если при слиянии ветвей один и тот же файл изменялся в разных ветвях по-разному, то возникнет конфликт, который необходимо разрешить, принимая изменения из ветви (incoming) или оставляя текущие (current)
* после успешного слияние старую ветвь можно удалить `git branch -d имя_ветви`
* для удобного просмотра истории ветвей `git log --graph --color-words --color --source --decorate --all`

### Работа с удаленными репозиториями

* создать аккаунт на удаленном сервисе (GitHu, Gitlab)
* создать локальный репозиторий или открыть существующий в терминале
* указать глваную ветку `git branch -M main`
* сконнектить локальный репозиторий с удаленным `git remote add origin ссылка на удаленный репозиторий` *делается один раз, после чего локаьный репозиторий привязывается к удаленному*
* отправить локальный репозиторий на удаленный сервис `git push -u origin main`
* если происходит изменения в **локальном** репозитории, то для синхронизации с удаленным необходимо  `git push`
* если происходят изменения в **удаленном** репозитории, то его необходимо синхронизировать с локальным `git pull`

### Forks

* для совместной работы над проектами используются форки
* они нужны, чтобы разные команды разработчиков могли работать над какими-либо частями проекта, не внося ненужных изменений в уже готовый основной проект
* форк - это полная копия чужого репозитория в своем аккаунте, с которой можно работать
* для его создания нужно на Github зайти в чужой репозиторий и нажать `Fork`
* после чего скачать на локальный компьютер `git pull` **скачается только главная ветка**, если необходимы другие, тогда после скачивания `git checkout имя ветки`
* после чего **обязательно** создать свою отельную ветвь `git branch имя ветви`
* сменить ветвь на созданную `git checkout description`  и всю дальнейшую работу проводить в ней
* после того, как работа завершена можно предложить изменения владельцу основного репозитория
* сначfла нужно закачать свой репозиторий на Github `git push`
* далее на Github направить `Pull request` владельцу основного репозитория
